<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width"/>
		<title>Library Management System</title>

		<link href="../../Content/font-awesome.min.css" rel="stylesheet" type="text/css"/>
		<link href="../../Content/bootstrap.min.css" rel="stylesheet" type="text/css"/>
      <link href="../../Content/w3.css" rel="stylesheet" type="text/css" />
      <link href="../../Content/Dashboard/Dashboard.css" rel="stylesheet" type="text/css"/>
      <link href="../../Content/Custom/Custom.css" rel="stylesheet" type="text/css"/>

		<link rel="preconnect" href="https://fonts.gstatic.com"/>
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/>
		@Styles.Render("~/Content/css")
		@Scripts.Render("~/bundles/modernizr")
	</head>
	<body>
      @if (Session["UserId"] != null)
      {
         @*---------------------------------------------*@
         <!-- SIDEBAR BEGINS -->
         @*---------------------------------------------*@
         <div class="w3-sidebar w3-bar-block w3-card w3-animate-zoom" id="lms-sidebar">
           <button class="w3-bar-item w3-button w3-large pull-right" onclick="w3_close()">Close &times;</button>
            <img src="../../Content/Images/UserImage.png" style="width:100%"/>
            @for (int i = 0; i < LMS.Controllers.FormController.formTypes.Count(); i++)
            {
               LMS.Models.FormTypeMaster formType = LMS.Controllers.FormController.formTypes.ToList()[i];
               IEnumerable<LMS.Models.FormMaster> forms = LMS.Utilities.Utility.GetForms(1, formType.Id);
               if (forms != null && forms.Count() > 0)
               {
                  string w3cardId = "w3CardId-" + formType.Id.ToString();
                  <button class="w3-button w3-block w3-left-align" onclick="SetAccordion(this)">
                     @formType.FormType<i class="fa fa-caret-down pull-right  "></i>
                  </button>
                  <div id="@w3cardId" class="w3-card @(i == 0 ? "w3-show" : "w3-hide")">
                  @foreach (LMS.Models.FormMaster form in forms)
                  {
                     <a href="@form.FormPath" class="w3-bar-item w3-button">@form.FormName</a>
                  }
                  </div>
               }
            }
         </div>
         @*---------------------------------------------*@
         <!-- SIDEBAR ENDS -->
         @*---------------------------------------------*@
      }
      
      <div id="main">
         <div class="w3-container">
            @*---------------------------------------------*@
            <!-- HEADER -->
            @*---------------------------------------------*@
            <span id="header-div" class="w3-container">
               @if (Session["UserId"] != null)
               {
                  <span id="openNav" class="w3-button w3-indigo w3-medium" onclick="w3_open()">&#9776;</span>
               }
               <span id="header-title">
                  <img id="brand-img" class="mr-3" src="../../Content/Images/Logo38-32.png"/>
                  @LMS.Utilities.Utility.PROJECT_TITLE
               </span>
               <span class="col-md-auto">
                  <span id="show-modal" class="w3-button w3-indigo w3-medium float-right" data-toggle="modal" data-target="#login-modal">Login</span>
               </span>
            </span>
            @*---------------------------------------------*@
            <!-- HEADER ENDS -->
            @*---------------------------------------------*@
            @RenderBody()
            @*---------------------------------------------*@
            <!-- FOOTER STARTS -->
            @*---------------------------------------------*@
            <footer class="container-fluid">
               <nav id="footer-navbar" class="navbar navbar-expand-md border-top fixed-bottom border-secondary">
		            <div class="collapse navbar-collapse" id="footer-nav-div">
			            <a href="#" class="nav-link ml-3">Privacy Policy</a>
			            <a href="#" class="nav-link ml-3">Term of use</a>
			            <a href="#" class="nav-link ml-3">© Copyright 2021. All Rights Reserved by Parul University.</a>
		            </div>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#footer-nav-div" aria-controls="footer-nav-div" aria-expanded="false" aria-label="Toggle navigation">
			            <span class="navbar-toggler-icon"/>
		            </button>
	            </nav>
            </footer>
            @*---------------------------------------------*@
            <!-- FOOTER ENDS -->
            @*---------------------------------------------*@
         </div>
      </div>

      @*------------------------------------------------------
         Scripts
      ------------------------------------------------------*@
      <script type="text/javascript">
         function w3_open() {
            document.getElementById("main").style.marginLeft = "200px";
            document.getElementById("lms-sidebar").style.width = "200px";
            document.getElementById("lms-sidebar").style.display = "block";
            document.getElementById("openNav").style.display = 'none';
         }
         function w3_close() {
            document.getElementById("main").style.marginLeft = "0";
            document.getElementById("lms-sidebar").style.display = "none";
            document.getElementById("openNav").style.display = "inline-block";
         }
      </script>

      <script type="text/javascript">
         function SetAccordion(obj) {
            debugger;
            var x = $(obj).next('div').first();
            if ($(x).hasClass("w3-show"))
            {
               $(x).removeClass("w3-show").addClass("w3-hide");
            }
            else
            {
               $('#lms-sidebar div.w3-show').removeClass("w3-show").addClass("w3-hide");
               $(x).removeClass("w3-hide").addClass("w3-show");
            }
         }
      </script>

      @Scripts.Render("~/bundles/jquery")
		@RenderSection("scripts", required: false)

      <!-- jQuery -->
      <script src="../../Scripts/jquery-3.5.1.min.js" type="text/javascript"></script>
      <script src="../../Scripts/jquery.validate.min.js" type="text/javascript"></script>
      <script src="../../Scripts/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>

      <!-- Bootstrap tooltips -->
      <script src="../../Scripts/bootstrap.bundle.min.js" type="text/javascript"></script>
      <!-- Login Script -->
      <script src="../../Content/Dashboard/Dashboard.js" type="text/javascript"</script>
      @*------------------------------------------------------
         Scripts
      ------------------------------------------------------*@
	</body>
</html>